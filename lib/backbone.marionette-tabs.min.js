// Marionette Tabs
// ----------------------------------
// v0.2.0
//
// Copyright (c)2015 Stu Kabakoff
// Distributed under MIT license
//
// https://github.com/compstak/marionette-tabs


!function(a,b){"function"==typeof define&&define.amd?define(["underscore","backbone","backbone.marionette"],b):"undefined"!=typeof exports?module.exports=b(require("underscore"),require("backbone"),require("backbone.marionette")):a.Marionette.Tabs=b(a,a.Backbone,a._,a.Backbone.Marionette)}(this,function(a,b,c){"use strict";var d={};return d.Item=b.Model.extend({initialize:function(c){if(!a.isString(c.id))throw new Error("TabItem id must be a string. It is a "+typeof c.id);if(!a.isString(c.title))throw new Error('TabItem title of the tab with id "'+c.id+'" is not a string. It is a '+typeof c.title);if(!c.ContentView&&!c.ContentView.render)throw new Error('TabItem ContentView of the tab with id "'+c.id+'" does not have a render function');return b.Model.prototype.initialize.call(this,c)}}),d.ItemView=c.ItemView.extend({template:function(a){return"<span>"+a.title+"</span>"},tagName:"li",events:{click:function(a){a.preventDefault(),this.trigger("select",this)}}}),d.Collection=b.Collection.extend({model:d.Item}),d.CollectionView=c.CollectionView.extend({tagName:"ul",className:"tab-item-view",itemView:d.ItemView,itemEvents:{select:function(a,b){console.log("triggering select"),this.trigger("change",b)}}}),d.Behavior=c.Behavior.extend({initialize:function(){if(!this.view.tabs)throw new Error('Tried to add TabbedBehavior to a layout without a "tabs" region.');if(!this.view.content)throw new Error('Tried to add TabbedBehavior to a layout without a "content" region.');if(!this.options.tabs)throw new Error('Tried to add TabbedBehavior to a layout wihtout providing a "tabs" collection.');this.currentView=null},defaults:{tabCollectionView:d.CollectionView},onRender:function(){var a=this,b={collection:this.options.tabs};this.options.tabItemView&&(b.itemView=this.options.tabItemView);var c=new this.options.tabCollectionView(b);this.view.tabs.show(c),c.on("change",function(b){a.switchTabs(b)});var d;this.options.defaultTab&&c.children.forEach(function(b){b.model.id===a.options.defaultTab&&(d=b)}),d||(d=c.children.first()),d?this.switchTabs(d):this.listenToOnce(this.options.tabs,"add",function(){this.switchTabs(c.children.first())}.bind(this))},switchTabs:function(a){var b=this.options.tabs.findWhere({id:a.model.id});this.currentTab&&this.currentTab.$el.removeClass("selected"),this.currentTab=a;var c;this.options.getOptions?c=this.options.getOptions(a.model):this.options.options&&(c=this.options.options),a.$el.addClass("selected");var d=new(b.get("ContentView"))(c);this.view.content.show(d)}}),d});
//# sourceMappingURL=backbone.marionette-tabs.min.js.map